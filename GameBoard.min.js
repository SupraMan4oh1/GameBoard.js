var GameBoard=(function(){var a=function(g,j,i){this.context=g.getContext("2d");document.onkeydown=function(t){switch(t.keyCode){case 37:this.move("left");console.log(t.keyCode);break;case 38:this.move("up");console.log(t.keyCode);break;case 39:this.move("right");console.log(t.keyCode);break;case 40:this.move("down");console.log(t.keyCode);break;default:break}};var e=g;var l=e.height;var m=e.width;var p=j;var d=i;var f=j*i;var h=this;this.img=new Image();this.move=function(t){};this.isCanvasSupported=function(){return e.getContext?true:false};this.getCanvas=function(){return e};this.getCanvasHeight=function(){return l};this.getCanvasWidth=function(){return m};this.getWidthBlocks=function(){return p};this.getHeightBlocks=function(){return d};var k=function(t,u){u?m*=t:m=t;e.width=m};var o=function(t,u){u?l=t*l:l=t;e.height=l};this.setWidthBlocks=function(t){p=t};this.setHeightBlocks=function(t){d=t};var q=this.getCanvasWidth()/this.getWidthBlocks();var r=this.getCanvasHeight()/this.getHeightBlocks();this.getXPixelsPerBlock=function(){return q};this.getYPixelsPerBlock=function(){return r};this.resizeCanvas=function(t,u,v){k(t,v);o(u,v)};this.getBlockPosition=function(t,u){return new Block(Math.floor(q),Math.floor(r))};this.checkBlockCollision=function(u,w,t,v){var y=h.getBlockPosition(u,w);var x=h.getBlockPosition(t,v);if(y.getXBlock()===x.getXBlock()&&y.getYBlock===x.getYBlock){return true}return false};this.checkPixelCollision=function(u,t){if(c(u.getObjX(),t.getObjX(),u.getObjWidth(),t.getObjWidth())&&b(u.getObjY(),t.getObjY(),u.getObjHeight(),t.getObjHeight())){return true}return false};var c=function(v,u,t,w){if((u>=v)&&(u<=(v+t))){return true}if((v>=u)&&(v<=(u+w))){return true}return false};var b=function(u,t,v,w){if((t>=u)&&(t<=(u+v))){return true}if((u>=t)&&(u<=(t+w))){return true}return false};this.Block=function(t,C){var A=t;var w=C;var B=h.xPixelsPerBlock*this.getXBlock();var v=h.xPixelsPerBlock*(this.getXBlock()+1);var z=h.yPixelsPerBlock*this.getYBlock();var u=h.yPixelsPerBlock*(this.getYBlock()+1);this.getXBlock=function(){return A};this.getYBlock=function(){return w};this.getLowX=function(){return B};this.getHighX=function(){return v};this.getLowY=function(){return z};this.getHighY=function(){return u}};this.originForBlock=function(t,u){};this.originToCenterFrameInBlock=function(u,t,v){};this.CanvasObj=function(u,D,v,A){var C=u;var B=D;var z=v;var t=A;this.getObjX=function(){return C};this.getObjY=function(){return B};this.getObjWidth=function(){return z};this.getObjHeight=function(){return t}};this.views=[];this.addView=function(t){this.views.push(t)};this.removeView=function(t){this.views=this.views.filter(function(u){return !(u===t)})};var n=function(v,w,u){for(var t in u){if(w(t)===true&&w.f!==undefined&&typeof w.f==="function"){w.f()}}};var s=function(t){views.forEach(function(v,u,w){if(t.frame.hitTest(v)==true){return this.collisionCallback(t,v)}})};this.draw=function(t){n(draw,t,views)};this.move=function(t){n(move,t,views);this.views.forEach(s,this)}};return a}());var Point=(function(){var a=function(b,c){this.x=b;this.y=c};return a}());var Size=(function(){var a=function(c,b){this.width=c;this.height=b};return a}());var Frame=(function(){var a=function(b,c){this.origin=b;this.size=c;this.lr=new Point(b.x+c.width,b.y+c.height);this.hitTest=function(f){var e=function(h,i,g){return(h>=i&&h<=g)};var d=function(h,g){return(e(g.x,h.origin.x,h.lr.x)&&e(g.y,h.origin.y,h.lr.y))};return d(this,f.origin)||d(this,f.lr)||d(this,new Point(f.origin.x,f.lr.y))||d(this,new Point(f.lr.x,f.origin.y))}};return a}());